(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3496ae5a"],{"212c":function(t,e,i){"use strict";i.r(e);var o=i("7a23");const s=t=>(Object(o["z"])("data-v-97368914"),t=t(),Object(o["x"])(),t),a={class:"form-control"},n=s(()=>Object(o["i"])("label",{for:"email"},"E-mail",-1)),r={class:"form-control"},c=s(()=>Object(o["i"])("label",{for:"password"},"Password",-1)),l={key:0};function d(t,e,i,s,d,u){const b=Object(o["E"])("BaseDialog"),h=Object(o["E"])("BaseSpinner"),O=Object(o["E"])("BaseButton"),m=Object(o["E"])("BaseCard");return Object(o["w"])(),Object(o["h"])("div",null,[Object(o["k"])(b,{show:!!d.error,title:"An error ocurred:",onClose:u.handleError},{default:Object(o["N"])(()=>[Object(o["i"])("p",null,Object(o["I"])(d.error),1)]),_:1},8,["show","onClose"]),Object(o["k"])(b,{fixed:"",show:d.isLoading,title:"Authenticating.."},{default:Object(o["N"])(()=>[Object(o["k"])(h)]),_:1},8,["show"]),Object(o["k"])(m,null,{default:Object(o["N"])(()=>[Object(o["i"])("form",{onSubmit:e[2]||(e[2]=Object(o["P"])((...t)=>u.submitForm&&u.submitForm(...t),["prevent"]))},[Object(o["i"])("div",a,[n,Object(o["O"])(Object(o["i"])("input",{type:"text",id:"email","onUpdate:modelValue":e[0]||(e[0]=t=>d.email=t)},null,512),[[o["L"],d.email]])]),Object(o["i"])("div",r,[c,Object(o["O"])(Object(o["i"])("input",{type:"password",id:"password","onUpdate:modelValue":e[1]||(e[1]=t=>d.password=t)},null,512),[[o["L"],d.password]])]),d.formIsValid?Object(o["g"])("",!0):(Object(o["w"])(),Object(o["h"])("p",l," Please enter a valid email and password (must be at least 6 characters long). ")),Object(o["k"])(O,null,{default:Object(o["N"])(()=>[Object(o["j"])(Object(o["I"])(u.submitButtonCaption),1)]),_:1}),Object(o["k"])(O,{type:"button",mode:"flat",onClick:u.switchOfMode},{default:Object(o["N"])(()=>[Object(o["j"])(Object(o["I"])(u.switchModeButtonCaption),1)]),_:1},8,["onClick"])],32)]),_:1})])}var u={data(){return{email:"",password:"",formIsValid:!0,mode:"login",isLoading:!1,error:null}},computed:{submitButtonCaption(){return"login"===this.mode?"Login":"Signup"},switchModeButtonCaption(){return"login"===this.mode?"Signup instead":"Login instead"}},methods:{async submitForm(){if(this.formIsValid=!0,""===this.email||!this.email.includes("@")||this.password.length<6)return void(this.formIsValid=!1);this.isLoading=!0;const t={email:this.email,password:this.password};try{"login"===this.mode?await this.$store.dispatch("login",t):await this.$store.dispatch("signup",t);const e="/"+(this.$route.query.redirect||"coaches");this.$router.replace(e)}catch(e){this.error=e.message||"Failed to authenticate, try later."}this.isLoading=!1},switchOfMode(){"login"===this.mode?this.mode="signup":this.mode="login"},handleError(){this.error=null}}},b=(i("edc4"),i("6b0d")),h=i.n(b);const O=h()(u,[["render",d],["__scopeId","data-v-97368914"]]);e["default"]=O},bc5e:function(t,e,i){},edc4:function(t,e,i){"use strict";i("bc5e")}}]);
//# sourceMappingURL=chunk-3496ae5a.b3cc9ee8.js.map