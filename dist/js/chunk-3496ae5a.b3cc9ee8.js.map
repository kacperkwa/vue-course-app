{"version":3,"sources":["webpack:///./src/pages/auth/UserAuth.vue","webpack:///./src/pages/auth/UserAuth.vue?9126","webpack:///./src/pages/auth/UserAuth.vue?f96a"],"names":["class","_createElementVNode","for","_createElementBlock","_createVNode","_component_BaseDialog","show","$data","error","title","onClose","$options","handleError","_toDisplayString","fixed","isLoading","_component_BaseSpinner","_component_BaseCard","onSubmit","_cache","_withModifiers","args","submitForm","_hoisted_1","_hoisted_2","type","id","email","$event","_hoisted_3","_hoisted_4","password","formIsValid","_hoisted_5","_component_BaseButton","submitButtonCaption","mode","onClick","switchOfMode","switchModeButtonCaption","data","computed","this","methods","includes","length","actionPayload","$store","dispatch","redirectUrl","$route","query","redirect","$router","replace","err","message","__exports__","render"],"mappings":"oNAUaA,MAAM,gB,QACTC,eAAiC,SAA1BC,IAAI,SAAQ,UAAM,I,GAGtBF,MAAM,gB,QACTC,eAAsC,SAA/BC,IAAI,YAAW,YAAQ,I,2LAdtCC,eA2BM,YA1BJC,eAEaC,EAAA,CAFAC,OAAQC,EAAAC,MAAOC,MAAM,oBAAqBC,QAAOC,EAAAC,a,wBAC5D,IAAkB,CAAlBX,eAAkB,SAAAY,eAAZN,EAAAC,OAAK,K,2BAEbJ,eAEcC,EAAA,CAFFS,MAAA,GAAOR,KAAMC,EAAAQ,UAAWN,MAAM,oB,wBACxC,IAAiC,CAAjCL,eAAiCY,K,iBAEnCZ,eAmBWa,EAAA,M,uBAlBT,IAiBO,CAjBPhB,eAiBO,QAjBAiB,SAAMC,EAAA,KAAAA,EAAA,GAAAC,eAAA,IAAAC,IAAUV,EAAAW,YAAAX,EAAAW,cAAAD,GAAU,e,CAC/BpB,eAGM,MAHNsB,EAGM,CAFJC,E,eACAvB,eAAgD,SAAzCwB,KAAK,OAAOC,GAAG,Q,qCAAiBnB,EAAAoB,MAAKC,I,mBAALrB,EAAAoB,WAEzC1B,eAGM,MAHN4B,EAGM,CAFJC,E,eACA7B,eAA0D,SAAnDwB,KAAK,WAAWC,GAAG,W,qCAAoBnB,EAAAwB,SAAQH,I,mBAARrB,EAAAwB,cAEtCxB,EAAAyB,Y,wCAAV7B,eAGI,IAAA8B,EAHmB,oFAIvB7B,eAAkD8B,EAAA,M,uBAAtC,IAAyB,C,8BAAtBvB,EAAAwB,qBAAmB,K,MAClC/B,eAEe8B,EAAA,CAFHT,KAAK,SAASW,KAAK,OAAQC,QAAO1B,EAAA2B,c,wBAAc,IAE1D,C,8BADA3B,EAAA4B,yBAAuB,K,mCAOlB,OACbC,OACE,MAAO,CACLb,MAAO,GACPI,SAAU,GACVC,aAAa,EACbI,KAAM,QACNrB,WAAW,EACXP,MAAO,OAGXiC,SAAU,CACRN,sBACE,MAAkB,UAAdO,KAAKN,KACA,QAEA,UAGXG,0BACE,MAAkB,UAAdG,KAAKN,KACA,iBAEA,kBAIbO,QAAS,CACP,mBAEE,GADAD,KAAKV,aAAc,EAEF,KAAfU,KAAKf,QACJe,KAAKf,MAAMiB,SAAS,MACrBF,KAAKX,SAASc,OAAS,EAGvB,YADAH,KAAKV,aAAc,GAGrBU,KAAK3B,WAAY,EACjB,MAAM+B,EAAgB,CACpBnB,MAAOe,KAAKf,MACZI,SAAUW,KAAKX,UAEjB,IACoB,UAAdW,KAAKN,WACDM,KAAKK,OAAOC,SAAS,QAASF,SAE9BJ,KAAKK,OAAOC,SAAS,SAAUF,GAEvC,MAAMG,EAAc,KAAOP,KAAKQ,OAAOC,MAAMC,UAAY,WAEzDV,KAAKW,QAAQC,QAAQL,GACrB,MAAOM,GACPb,KAAKlC,MAAQ+C,EAAIC,SAAW,qCAG9Bd,KAAK3B,WAAY,GAGnBuB,eACoB,UAAdI,KAAKN,KACPM,KAAKN,KAAO,SAEZM,KAAKN,KAAO,SAGhBxB,cACE8B,KAAKlC,MAAQ,Q,iCC3FnB,MAAMiD,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAE1E,gB,yDCTf","file":"js/chunk-3496ae5a.b3cc9ee8.js","sourcesContent":["<template>\r\n  <div>\r\n    <BaseDialog :show=\"!!error\" title=\"An error ocurred:\" @close=\"handleError\">\r\n      <p>{{ error }}</p>\r\n    </BaseDialog>\r\n    <BaseDialog fixed :show=\"isLoading\" title=\"Authenticating..\">\r\n      <BaseSpinner></BaseSpinner\r\n    ></BaseDialog>\r\n    <BaseCard>\r\n      <form @submit.prevent=\"submitForm\">\r\n        <div class=\"form-control\">\r\n          <label for=\"email\">E-mail</label>\r\n          <input type=\"text\" id=\"email\" v-model=\"email\" />\r\n        </div>\r\n        <div class=\"form-control\">\r\n          <label for=\"password\">Password</label>\r\n          <input type=\"password\" id=\"password\" v-model=\"password\" />\r\n        </div>\r\n        <p v-if=\"!formIsValid\">\r\n          Please enter a valid email and password (must be at least 6 characters\r\n          long).\r\n        </p>\r\n        <BaseButton>{{ submitButtonCaption }}</BaseButton>\r\n        <BaseButton type=\"button\" mode=\"flat\" @click=\"switchOfMode\">{{\r\n          switchModeButtonCaption\r\n        }}</BaseButton>\r\n      </form>\r\n    </BaseCard>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      email: '',\r\n      password: '',\r\n      formIsValid: true,\r\n      mode: 'login',\r\n      isLoading: false,\r\n      error: null,\r\n    };\r\n  },\r\n  computed: {\r\n    submitButtonCaption() {\r\n      if (this.mode === 'login') {\r\n        return 'Login';\r\n      } else {\r\n        return 'Signup';\r\n      }\r\n    },\r\n    switchModeButtonCaption() {\r\n      if (this.mode === 'login') {\r\n        return 'Signup instead';\r\n      } else {\r\n        return 'Login instead';\r\n      }\r\n    },\r\n  },\r\n  methods: {\r\n    async submitForm() {\r\n      this.formIsValid = true;\r\n      if (\r\n        this.email === '' ||\r\n        !this.email.includes('@') ||\r\n        this.password.length < 6\r\n      ) {\r\n        this.formIsValid = false;\r\n        return;\r\n      }\r\n      this.isLoading = true;\r\n      const actionPayload = {\r\n        email: this.email,\r\n        password: this.password,\r\n      };\r\n      try {\r\n        if (this.mode === 'login') {\r\n          await this.$store.dispatch('login', actionPayload);\r\n        } else {\r\n          await this.$store.dispatch('signup', actionPayload);\r\n        }\r\n        const redirectUrl = '/' + (this.$route.query.redirect || 'coaches');\r\n\r\n        this.$router.replace(redirectUrl);\r\n      } catch (err) {\r\n        this.error = err.message || 'Failed to authenticate, try later.';\r\n      }\r\n\r\n      this.isLoading = false;\r\n    },\r\n\r\n    switchOfMode() {\r\n      if (this.mode === 'login') {\r\n        this.mode = 'signup';\r\n      } else {\r\n        this.mode = 'login';\r\n      }\r\n    },\r\n    handleError() {\r\n      this.error = null;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\nform {\r\n  margin: 1rem;\r\n  padding: 1rem;\r\n}\r\n\r\n.form-control {\r\n  margin: 0.5rem 0;\r\n}\r\n\r\nlabel {\r\n  font-weight: bold;\r\n  margin-bottom: 0.5rem;\r\n  display: block;\r\n}\r\n\r\ninput,\r\ntextarea {\r\n  display: block;\r\n  width: 100%;\r\n  font: inherit;\r\n  border: 1px solid #ccc;\r\n  padding: 0.15rem;\r\n}\r\n\r\ninput:focus,\r\ntextarea:focus {\r\n  border-color: #3d008d;\r\n  background-color: #faf6ff;\r\n  outline: none;\r\n}\r\n</style>\r\n","import { render } from \"./UserAuth.vue?vue&type=template&id=97368914&scoped=true\"\nimport script from \"./UserAuth.vue?vue&type=script&lang=js\"\nexport * from \"./UserAuth.vue?vue&type=script&lang=js\"\n\nimport \"./UserAuth.vue?vue&type=style&index=0&id=97368914&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\kacpe\\\\Desktop\\\\VUE\\\\main-prj-01-starting-setup\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-97368914\"]])\n\nexport default __exports__","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./UserAuth.vue?vue&type=style&index=0&id=97368914&scoped=true&lang=css\""],"sourceRoot":""}